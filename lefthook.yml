# EXAMPLE USAGE:
#
#   Refer for explanation to following link:
#   https://lefthook.dev/configuration/
#
pre-commit:
  parallel: false
  commands:
    01-sort-package-json:
      #glob: "*.{ts,yml,yaml,md,json,html}"
      run: |
        # Reorder package.json
        pnpm run sort:package-json
        # Re-add package.json if it was modified
        git add package.json || true
    02-biomejs-check:
      #glob: "*.{ts,yml,yaml,md,json,html}"
      run: |
        # Run Biome on staged files, auto-fixing issues
        pnpm format:fix-staged || true;
        # Re-add any files that Biome fixed. Sometimes deleted files cause git add to fail, so we ignore errors.
        git add $(git diff --name-only --cached) || true
